{
    "cosmos-installer": null,
    "services": {
       "{ServiceName}": {
          "container_name": "{ServiceName}",
          "image": "searxng/searxng:latest",
          "restart": "unless-stopped",
          "networks": {
             "{ServiceName}-net": {}
          },
          "volumes": [
             {
                "source": "{ServiceName}-data",
                "target": "/etc/searxng",
                "type": "volume"
             },
             {
                "Type": "volume",
                "Source": "{ServiceName}-cache",
                "Target": "/var/cache/searxng"
             }
          ],
          "routes": [
             {
                "name": "{ServiceName}",
                "description": "Expose {ServiceName} to the web",
                "useHost": true,
                "target": "http://{ServiceName}:8080",
                "mode": "SERVAPP",
                "Timeout": 14400000,
                "ThrottlePerMinute": 12000,
                "BlockCommonBots": true,
                "SmartShield": {
                   "Enabled": true
                }
             }
          ],
          "cap_drop": [
             "ALL"
          ],
          "cap_add": [
             "CHOWN",
             "SETGID",
             "SETUID"
          ],
          "labels": {
             "cosmos-force-network-secured": "true",
             "cosmos-auto-update": "true",
             "cosmos-icon": "https://azukaar.github.io/cosmos-servapps-official/servapps/SearXNG/icon.png",
             "cosmos-stack": "{ServiceName}",
             "cosmos-stack-main": "{ServiceName}"
          },
          "logging": {
             "driver": "json-file",
             "options": {
                "max-size": "1m",
                "max-file": "1"
             }
          }
       },
       "{ServiceName}-redis": {
          "container_name": "{ServiceName}-redis",
          "hostname": "{ServiceName}-redis",
          "image": "docker.io/valkey/valkey:8-alpine",
          "command": "valkey-server --save 30 1 --loglevel warning --ignore-warnings ARM64-COW-BUG",
          "restart": "unless-stopped",
          "networks": {
             "{ServiceName}-net": {}
          },
          "tmpfs": [
             {
                "source": "{ServiceName}-redistemp",
                "target": "/data",
                "type": "volume"
             }
          ],
          "cap_drop": [
             "ALL"
          ],
          "cap_add": [
             "SETGID",
             "SETUID",
             "DAC_OVERRIDE"
          ],
          "labels": {
             "cosmos-force-network-secured": "true",
             "cosmos-auto-update": "true",
             "cosmos-stack": "{ServiceName}",
             "cosmos-stack-main": "{ServiceName}"
          }
       }
    },
    "networks": {
       "{ServiceName}-net": {}
    }
 }
